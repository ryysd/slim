<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>third_party/google-perftools-1.8.3/src/windows/port.h</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.1' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP' /><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/738.html'>third_party</a>/<a href='../files/739.html'>google-perftools-1.8.3</a>/<a href='../files/740.html'>src</a>/<a href='../files/745.html'>windows</a>/port.h</h2>
<em class='comment'>/* [&lt;][&gt;]<a href='#L125'>[^]</a><a href='#L442'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<h2 class='header'><a href='../J/54.html' title='Multiple included from 13 places.'>INCLUDED FROM</a></h2>
<hr />
<h2 class='header'>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L125' title='Defined at 125.'>pthread_self</a></li>
<li><a href='#L130' title='Defined at 130.'>pthread_equal</a></li>
<li><a href='#L137' title='Defined at 137.'>perftools_pthread_key_create</a></li>
<li><a href='#L148' title='Defined at 148.'>perftools_pthread_getspecific</a></li>
<li><a href='#L155' title='Defined at 155.'>perftools_pthread_setspecific</a></li>
<li><a href='#L168' title='Defined at 168.'>sched_yield</a></li>
<li><a href='#L272' title='Defined at 272.'>mmap</a></li>
<li><a href='#L282' title='Defined at 282.'>munmap</a></li>
<li><a href='#L288' title='Defined at 288.'>sbrk</a></li>
<li><a href='#L303' title='Defined at 303.'>perftools_vsnprintf</a></li>
<li><a href='#L308' title='Defined at 308.'>perftools_vsnprintf</a></li>
<li><a href='#L318' title='Defined at 318.'>snprintf</a></li>
<li><a href='#L355' title='Defined at 355.'>access</a></li>
<li><a href='#L358' title='Defined at 358.'>open</a></li>
<li><a href='#L361' title='Defined at 361.'>close</a></li>
<li><a href='#L364' title='Defined at 364.'>read</a></li>
<li><a href='#L367' title='Defined at 367.'>write</a></li>
<li><a href='#L370' title='Defined at 370.'>lseek</a></li>
<li><a href='#L373' title='Defined at 373.'>getcwd</a></li>
<li><a href='#L376' title='Defined at 376.'>mkdir</a></li>
<li><a href='#L380' title='Defined at 380.'>popen</a></li>
<li><a href='#L383' title='Defined at 383.'>pclose</a></li>
<li><a href='#L394' title='Defined at 394.'>getpid</a></li>
<li><a href='#L396' title='Defined at 396.'>getppid</a></li>
<li><a href='#L399' title='Defined at 399.'>poll</a></li>
<li><a href='#L410' title='Defined at 410.'>srandom</a></li>
<li><a href='#L411' title='Defined at 411.'>random</a></li>
<li><a href='#L412' title='Defined at 412.'>sleep</a></li>
<li><a href='#L422' title='Defined at 422.'>nanosleep</a></li>
<li><a href='#L428' title='Defined at 428.'>strtoll</a></li>
<li><a href='#L431' title='Defined at 431.'>strtoull</a></li>
<li><a href='#L435' title='Defined at 435.'>strtoq</a></li>
<li><a href='#L438' title='Defined at 438.'>strtouq</a></li>
<li><a href='#L442' title='Defined at 442.'>atoll</a></li>
</ol>
<hr />
<pre>
<a id='L1' name='L1' /><em class='comment'>/* Copyright (c) 2007, Google Inc.</em>
<a id='L2' name='L2' /><em class='comment'> * All rights reserved.</em>
<a id='L3' name='L3' /><em class='comment'> *</em>
<a id='L4' name='L4' /><em class='comment'> * Redistribution and use in source and binary forms, with or without</em>
<a id='L5' name='L5' /><em class='comment'> * modification, are permitted provided that the following conditions are</em>
<a id='L6' name='L6' /><em class='comment'> * met:</em>
<a id='L7' name='L7' /><em class='comment'> *</em>
<a id='L8' name='L8' /><em class='comment'> *     * Redistributions of source code must retain the above copyright</em>
<a id='L9' name='L9' /><em class='comment'> * notice, this list of conditions and the following disclaimer.</em>
<a id='L10' name='L10' /><em class='comment'> *     * Redistributions in binary form must reproduce the above</em>
<a id='L11' name='L11' /><em class='comment'> * copyright notice, this list of conditions and the following disclaimer</em>
<a id='L12' name='L12' /><em class='comment'> * in the documentation and/or other materials provided with the</em>
<a id='L13' name='L13' /><em class='comment'> * distribution.</em>
<a id='L14' name='L14' /><em class='comment'> *     * Neither the name of Google Inc. nor the names of its</em>
<a id='L15' name='L15' /><em class='comment'> * contributors may be used to endorse or promote products derived from</em>
<a id='L16' name='L16' /><em class='comment'> * this software without specific prior written permission.</em>
<a id='L17' name='L17' /><em class='comment'> *</em>
<a id='L18' name='L18' /><em class='comment'> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</em>
<a id='L19' name='L19' /><em class='comment'> * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</em>
<a id='L20' name='L20' /><em class='comment'> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</em>
<a id='L21' name='L21' /><em class='comment'> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</em>
<a id='L22' name='L22' /><em class='comment'> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</em>
<a id='L23' name='L23' /><em class='comment'> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</em>
<a id='L24' name='L24' /><em class='comment'> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</em>
<a id='L25' name='L25' /><em class='comment'> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</em>
<a id='L26' name='L26' /><em class='comment'> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</em>
<a id='L27' name='L27' /><em class='comment'> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</em>
<a id='L28' name='L28' /><em class='comment'> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</em>
<a id='L29' name='L29' /><em class='comment'> *</em>
<a id='L30' name='L30' /><em class='comment'> * ---</em>
<a id='L31' name='L31' /><em class='comment'> * Author: Craig Silverstein</em>
<a id='L32' name='L32' /><em class='comment'> *</em>
<a id='L33' name='L33' /><em class='comment'> * These are some portability typedefs and defines to make it a bit</em>
<a id='L34' name='L34' /><em class='comment'> * easier to compile this code under VC++.</em>
<a id='L35' name='L35' /><em class='comment'> *</em>
<a id='L36' name='L36' /><em class='comment'> * Several of these are taken from glib:</em>
<a id='L37' name='L37' /><em class='comment'> *    http://developer.gnome.org/doc/API/glib/glib-windows-compatability-functions.html</em>
<a id='L38' name='L38' /><em class='comment'> */</em>
<a id='L39' name='L39' />
<a id='L40' name='L40' /><em class='sharp'>#ifndef</em> <a href='../S/686.html#L41' title='Defined at 41 in third_party/google-perftools-1.8.3/src/windows/port.h.'>GOOGLE_BASE_WINDOWS_H_</a>
<a id='L41' name='L41' /><em class='sharp'>#define</em> <a href='../S/686.html#L40' title='Refered from 40 in third_party/google-perftools-1.8.3/src/windows/port.h.'>GOOGLE_BASE_WINDOWS_H_</a>
<a id='L42' name='L42' />
<a id='L43' name='L43' /><em class='comment'>/* You should never include this file directly, but always include it</em>
<a id='L44' name='L44' /><em class='comment'>   from either config.h (MSVC) or mingw.h (MinGW/msys). */</em>
<a id='L45' name='L45' /><em class='sharp'>#if</em> !<strong class='reserved'>defined</strong>(<a href='../D/817.html' title='Multiple defined in 2 places.'>GOOGLE_PERFTOOLS_WINDOWS_CONFIG_H_</a>) &amp;&amp; \
<a id='L46' name='L46' />    !<strong class='reserved'>defined</strong>(<a href='../S/678.html#L39' title='Defined at 39 in third_party/google-perftools-1.8.3/src/windows/mingw.h.'>GOOGLE_PERFTOOLS_WINDOWS_MINGW_H_</a>)
<a id='L47' name='L47' /><em class='sharp'># error</em> "port.h should only be included from config.h or mingw.h"
<a id='L48' name='L48' /><em class='sharp'>#endif</em>
<a id='L49' name='L49' />
<a id='L50' name='L50' /><em class='sharp'>#ifdef</em> <a href='../Y/997.html' title='Multiple used in 42 places.'>_WIN32</a>
<a id='L51' name='L51' />
<a id='L52' name='L52' /><em class='sharp'>#ifndef</em> <a href='../D/2967.html' title='Multiple defined in 5 places.'>WIN32_LEAN_AND_MEAN</a>
<a id='L53' name='L53' /><em class='sharp'>#define</em> <a href='../R/2665.html' title='Multiple refered from 3 places.'>WIN32_LEAN_AND_MEAN</a>  <em class='comment'>/* We always want minimal includes */</em>
<a id='L54' name='L54' /><em class='sharp'>#endif</em>
<a id='L55' name='L55' /><em class='sharp'>#include</em> &lt;windows.h&gt;
<a id='L56' name='L56' /><em class='sharp'>#include</em> &lt;io.h&gt;              <em class='comment'>/* because we so often use open/close/etc */</em>
<a id='L57' name='L57' /><em class='sharp'>#include</em> &lt;direct.h&gt;          <em class='comment'>/* for _getcwd */</em>
<a id='L58' name='L58' /><em class='sharp'>#include</em> &lt;process.h&gt;         <em class='comment'>/* for _getpid */</em>
<a id='L59' name='L59' /><em class='sharp'>#include</em> &lt;limits.h&gt;          <em class='comment'>/* for PATH_MAX */</em>
<a id='L60' name='L60' /><em class='sharp'>#include</em> &lt;stdarg.h&gt;          <em class='comment'>/* for va_list */</em>
<a id='L61' name='L61' /><em class='sharp'>#include</em> &lt;stdio.h&gt;           <em class='comment'>/* need this to override stdio's (v)snprintf */</em>
<a id='L62' name='L62' /><em class='sharp'>#include</em> &lt;sys/types.h&gt;       <em class='comment'>/* for _off_t */</em>
<a id='L63' name='L63' /><em class='sharp'>#include</em> &lt;assert.h&gt;
<a id='L64' name='L64' /><em class='sharp'>#include</em> &lt;stdlib.h&gt;          <em class='comment'>/* for rand, srand, _strtoxxx */</em>
<a id='L65' name='L65' />
<a id='L66' name='L66' /><em class='comment'>/*</em>
<a id='L67' name='L67' /><em class='comment'> * 4018: signed/unsigned mismatch is common (and ok for signed_i &lt; unsigned_i)</em>
<a id='L68' name='L68' /><em class='comment'> * 4244: otherwise we get problems when substracting two size_t's to an int</em>
<a id='L69' name='L69' /><em class='comment'> * 4288: VC++7 gets confused when a var is defined in a loop and then after it</em>
<a id='L70' name='L70' /><em class='comment'> * 4267: too many false positives for "conversion gives possible data loss"</em>
<a id='L71' name='L71' /><em class='comment'> * 4290: it's ok windows ignores the "throw" directive</em>
<a id='L72' name='L72' /><em class='comment'> * 4996: Yes, we're ok using "unsafe" functions like vsnprintf and getenv()</em>
<a id='L73' name='L73' /><em class='comment'> */</em>
<a id='L74' name='L74' /><em class='sharp'>#ifdef</em> <a href='../Y/982.html' title='Multiple used in 81 places.'>_MSC_VER</a>
<a id='L75' name='L75' /><em class='sharp'>#pragma</em> warning(disable:4018 4244 4288 4267 4290 4996)
<a id='L76' name='L76' /><em class='sharp'>#endif</em>
<a id='L77' name='L77' />
<a id='L78' name='L78' /><em class='sharp'>#ifndef</em> <a href='../Y/1125.html' title='Multiple used in 121 places.'>__cplusplus</a>
<a id='L79' name='L79' /><em class='comment'>/* MSVC does not support C99 */</em>
<a id='L80' name='L80' /><em class='sharp'># if</em> !<strong class='reserved'>defined</strong>(<a href='../Y/1096.html' title='Multiple used in 7 places.'>__STDC_VERSION__</a>) || <a href='../Y/1096.html' title='Multiple used in 7 places.'>__STDC_VERSION__</a> &lt; 199901L
<a id='L81' name='L81' /><em class='sharp'>#  ifdef</em> <a href='../Y/982.html' title='Multiple used in 81 places.'>_MSC_VER</a>
<a id='L82' name='L82' /><em class='sharp'>#    define</em> <strong class='reserved'>inline</strong> <strong class='reserved'>__inline</strong>
<a id='L83' name='L83' /><em class='sharp'>#  else</em>
<a id='L84' name='L84' /><em class='sharp'>#    define</em> <strong class='reserved'>inline</strong> <strong class='reserved'>static</strong>
<a id='L85' name='L85' /><em class='sharp'>#  endif</em>
<a id='L86' name='L86' /><em class='sharp'># endif</em>
<a id='L87' name='L87' /><em class='sharp'>#endif</em>
<a id='L88' name='L88' />
<a id='L89' name='L89' /><em class='sharp'>#ifdef</em> <a href='../Y/1125.html' title='Multiple used in 121 places.'>__cplusplus</a>
<a id='L90' name='L90' /><em class='sharp'># define</em> <a href='../R/609.html' title='Multiple refered from 4 places.'>EXTERN_C</a>  <strong class='reserved'>extern</strong> "C"
<a id='L91' name='L91' /><em class='sharp'>#else</em>
<a id='L92' name='L92' /><em class='sharp'># define</em> <a href='../R/609.html' title='Multiple refered from 4 places.'>EXTERN_C</a>  <strong class='reserved'>extern</strong>
<a id='L93' name='L93' /><em class='sharp'>#endif</em>
<a id='L94' name='L94' />
<a id='L95' name='L95' /><em class='comment'>/* ----------------------------------- BASIC TYPES */</em>
<a id='L96' name='L96' />
<a id='L97' name='L97' /><em class='sharp'>#ifndef</em> <a href='../D/935.html' title='Multiple defined in 2 places.'>HAVE_STDINT_H</a>
<a id='L98' name='L98' /><em class='sharp'>#ifndef</em> <a href='../D/961.html' title='Multiple defined in 2 places.'>HAVE___INT64</a>    <em class='comment'>/* we need to have all the __intX names */</em>
<a id='L99' name='L99' /><em class='sharp'># error</em>  Do not know how to set up type aliases.  Edit port.h <strong class='reserved'>for</strong> your system.
<a id='L100' name='L100' /><em class='sharp'>#endif</em>
<a id='L101' name='L101' />
<a id='L102' name='L102' /><strong class='reserved'>typedef</strong> <a href='../Y/1151.html' title='Multiple used in 2 places.'>__int8</a> <a href='../R/3674.html' title='Multiple refered from 7 places.'>int8_t</a>;
<a id='L103' name='L103' /><strong class='reserved'>typedef</strong> <a href='../Y/1149.html' title='Multiple used in 2 places.'>__int16</a> <a href='../R/3668.html' title='Multiple refered from 8 places.'>int16_t</a>;
<a id='L104' name='L104' /><strong class='reserved'>typedef</strong> <a href='../Y/1150.html' title='Multiple used in 2 places.'>__int32</a> <a href='../R/3670.html' title='Multiple refered from 21 places.'>int32_t</a>;
<a id='L105' name='L105' /><strong class='reserved'>typedef</strong> <a href='../S/347.html#L149' title='Defined at 149 in src/lmntal.h.'>__int64</a> <a href='../R/3672.html' title='Multiple refered from 21 places.'>int64_t</a>;
<a id='L106' name='L106' /><strong class='reserved'>typedef</strong> <strong class='reserved'>unsigned</strong> <a href='../Y/1151.html' title='Multiple used in 2 places.'>__int8</a> <a href='../R/5053.html' title='Multiple refered from 9 places.'>uint8_t</a>;
<a id='L107' name='L107' /><strong class='reserved'>typedef</strong> <strong class='reserved'>unsigned</strong> <a href='../Y/1149.html' title='Multiple used in 2 places.'>__int16</a> <a href='../R/5048.html' title='Multiple refered from 24 places.'>uint16_t</a>;
<a id='L108' name='L108' /><strong class='reserved'>typedef</strong> <strong class='reserved'>unsigned</strong> <a href='../Y/1150.html' title='Multiple used in 2 places.'>__int32</a> <a href='../R/5050.html' title='Multiple refered from 41 places.'>uint32_t</a>;
<a id='L109' name='L109' /><strong class='reserved'>typedef</strong> <strong class='reserved'>unsigned</strong> <a href='../S/347.html#L149' title='Defined at 149 in src/lmntal.h.'>__int64</a> <a href='../R/5052.html' title='Multiple refered from 98 places.'>uint64_t</a>;
<a id='L110' name='L110' /><em class='sharp'>#endif</em>  <em class='comment'>/* #ifndef HAVE_STDINT_H */</em>
<a id='L111' name='L111' />
<a id='L112' name='L112' /><em class='comment'>/* I guess MSVC's &lt;types.h&gt; doesn't include ssize_t by default? */</em>
<a id='L113' name='L113' /><em class='sharp'>#ifdef</em> <a href='../Y/982.html' title='Multiple used in 81 places.'>_MSC_VER</a>
<a id='L114' name='L114' /><strong class='reserved'>typedef</strong> <a href='../Y/2873.html' title='Multiple used in 42 places.'>intptr_t</a> <a href='../R/4731.html' title='Multiple refered from 53 places.'>ssize_t</a>;
<a id='L115' name='L115' /><em class='sharp'>#endif</em>
<a id='L116' name='L116' />
<a id='L117' name='L117' /><em class='comment'>/* ----------------------------------- THREADS */</em>
<a id='L118' name='L118' />
<a id='L119' name='L119' /><em class='sharp'>#ifndef</em> <a href='../D/930.html' title='Multiple defined in 3 places.'>HAVE_PTHREAD</a>   <em class='comment'>/* not true for MSVC, but may be true for MSYS */</em>
<a id='L120' name='L120' /><strong class='reserved'>typedef</strong> <a href='../Y/115.html' title='Multiple used in 49 places.'>DWORD</a> <a href='../R/4531.html' title='Multiple refered from 21 places.'>pthread_t</a>;
<a id='L121' name='L121' /><strong class='reserved'>typedef</strong> <a href='../Y/115.html' title='Multiple used in 49 places.'>DWORD</a> <a href='../R/4528.html' title='Multiple refered from 22 places.'>pthread_key_t</a>;
<a id='L122' name='L122' /><strong class='reserved'>typedef</strong> <a href='../Y/426.html' title='Multiple used in 28 places.'>LONG</a> <a href='../R/4529.html' title='Multiple refered from 15 places.'>pthread_once_t</a>;
<a id='L123' name='L123' /><strong class='reserved'>enum</strong> <em class='brace'>{</em> <a href='../R/1924.html' title='Multiple refered from 7 places.'>PTHREAD_ONCE_INIT</a> = 0 <em class='brace'>}</em>;   <em class='comment'>/* important that this be 0! for SpinLock */</em>
<a id='L124' name='L124' />
<a id='L125' name='L125' /><strong class='reserved'>inline</strong> <a href='../S/686.html#L120' title='Defined at 120 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_t</a> <a href='../R/4530.html' title='Multiple refered from 11 places.'>pthread_self</a>(<strong class='reserved'>void</strong>) <em class='brace'>{</em>
<a id='L126' name='L126' />  <strong class='reserved'>return</strong> GetCurrentThreadId();
<a id='L127' name='L127' /><em class='brace'>}</em>
<a id='L128' name='L128' />
<a id='L129' name='L129' /><em class='sharp'>#ifdef</em> <a href='../Y/1125.html' title='Multiple used in 121 places.'>__cplusplus</a>
<a id='L130' name='L130' /><strong class='reserved'>inline</strong> <a href='../Y/1648.html' title='Multiple used in 174 places.'>bool</a> <a href='../S/588.html#L160' title='Refered from 160 in third_party/google-perftools-1.8.3/src/memory_region_map.cc.'>pthread_equal</a>(<a href='../S/686.html#L120' title='Defined at 120 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_t</a> <a href='../Y/3202.html' title='Multiple used in 7 places.'>left</a>, <a href='../S/686.html#L120' title='Defined at 120 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_t</a> <a href='../Y/4563.html' title='Multiple used in 2 places.'>right</a>) <em class='brace'>{</em>
<a id='L131' name='L131' />  <strong class='reserved'>return</strong> <a href='../Y/3202.html' title='Multiple used in 7 places.'>left</a> == <a href='../Y/4563.html' title='Multiple used in 2 places.'>right</a>;
<a id='L132' name='L132' /><em class='brace'>}</em>
<a id='L133' name='L133' />
<a id='L134' name='L134' /><em class='comment'>/* This replaces maybe_threads.{h,cc} */</em>
<a id='L135' name='L135' /><a href='../D/706.html' title='Multiple defined in 3 places.'>EXTERN_C</a> <a href='../S/686.html#L121' title='Defined at 121 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_key_t</a> <a href='../S/685.html#L179' title='Defined at 179 in third_party/google-perftools-1.8.3/src/windows/port.cc.'>PthreadKeyCreate</a>(<strong class='reserved'>void</strong> (*<a href='../Y/2040.html' title='Multiple used in 8 places.'>destr_fn</a>)(<strong class='reserved'>void</strong>*));  <em class='comment'>/* port.cc */</em>
<a id='L136' name='L136' />
<a id='L137' name='L137' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4372.html' title='Multiple refered from 3 places.'>perftools_pthread_key_create</a>(<a href='../S/686.html#L121' title='Defined at 121 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_key_t</a> *<a href='../Y/4170.html' title='Multiple used in 2 places.'>pkey</a>,
<a id='L138' name='L138' />                                        <strong class='reserved'>void</strong> (*<a href='../Y/2045.html' title='Multiple used in 2 places.'>destructor</a>)(<strong class='reserved'>void</strong>*)) <em class='brace'>{</em>
<a id='L139' name='L139' />  <a href='../S/686.html#L121' title='Defined at 121 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_key_t</a> <a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a> = <a href='../S/685.html#L179' title='Defined at 179 in third_party/google-perftools-1.8.3/src/windows/port.cc.'>PthreadKeyCreate</a>(<a href='../Y/2045.html' title='Multiple used in 2 places.'>destructor</a>);
<a id='L140' name='L140' />  <strong class='reserved'>if</strong> (<a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a> != TLS_OUT_OF_INDEXES) <em class='brace'>{</em>
<a id='L141' name='L141' />    *(<a href='../Y/4170.html' title='Multiple used in 2 places.'>pkey</a>) = <a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a>;
<a id='L142' name='L142' />    <strong class='reserved'>return</strong> 0;
<a id='L143' name='L143' />  <em class='brace'>}</em> <strong class='reserved'>else</strong> <em class='brace'>{</em>
<a id='L144' name='L144' />    <strong class='reserved'>return</strong> <a href='../Y/305.html' title='Multiple used in 14 places.'>GetLastError</a>();
<a id='L145' name='L145' />  <em class='brace'>}</em>
<a id='L146' name='L146' /><em class='brace'>}</em>
<a id='L147' name='L147' />
<a id='L148' name='L148' /><strong class='reserved'>inline</strong> <strong class='reserved'>void</strong>* <a href='../R/4371.html' title='Multiple refered from 3 places.'>perftools_pthread_getspecific</a>(<a href='../Y/115.html' title='Multiple used in 49 places.'>DWORD</a> <a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a>) <em class='brace'>{</em>
<a id='L149' name='L149' />  <a href='../Y/115.html' title='Multiple used in 49 places.'>DWORD</a> <a href='../Y/2229.html' title='Multiple used in 43 places.'>err</a> = <a href='../Y/305.html' title='Multiple used in 14 places.'>GetLastError</a>();
<a id='L150' name='L150' />  <strong class='reserved'>void</strong>* <a href='../Y/4652.html' title='Multiple used in 19 places.'>rv</a> = <a href='../Y/876.html' title='Multiple used in 2 places.'>TlsGetValue</a>(<a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a>);
<a id='L151' name='L151' />  <strong class='reserved'>if</strong> (<a href='../Y/2229.html' title='Multiple used in 43 places.'>err</a>) SetLastError(<a href='../Y/2229.html' title='Multiple used in 43 places.'>err</a>);
<a id='L152' name='L152' />  <strong class='reserved'>return</strong> <a href='../Y/4652.html' title='Multiple used in 19 places.'>rv</a>;
<a id='L153' name='L153' /><em class='brace'>}</em>
<a id='L154' name='L154' />
<a id='L155' name='L155' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4374.html' title='Multiple refered from 5 places.'>perftools_pthread_setspecific</a>(<a href='../S/686.html#L121' title='Defined at 121 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_key_t</a> <a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a>, <strong class='reserved'>const</strong> <strong class='reserved'>void</strong> *<a href='../Y/5599.html' title='Multiple used in 481 places.'>value</a>) <em class='brace'>{</em>
<a id='L156' name='L156' />  <strong class='reserved'>if</strong> (<a href='../Y/877.html' title='Multiple used in 2 places.'>TlsSetValue</a>(<a href='../Y/3140.html' title='Multiple used in 327 places.'>key</a>, (<a href='../Y/433.html' title='Multiple used in 24 places.'>LPVOID</a>)<a href='../Y/5599.html' title='Multiple used in 481 places.'>value</a>))
<a id='L157' name='L157' />    <strong class='reserved'>return</strong> 0;
<a id='L158' name='L158' />  <strong class='reserved'>else</strong>
<a id='L159' name='L159' />    <strong class='reserved'>return</strong> <a href='../Y/305.html' title='Multiple used in 14 places.'>GetLastError</a>();
<a id='L160' name='L160' /><em class='brace'>}</em>
<a id='L161' name='L161' />
<a id='L162' name='L162' /><a href='../D/706.html' title='Multiple defined in 3 places.'>EXTERN_C</a> <strong class='reserved'>int</strong> <a href='../D/4792.html' title='Multiple defined in 2 places.'>perftools_pthread_once</a>(<a href='../S/686.html#L122' title='Defined at 122 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_once_t</a> *<a href='../Y/3970.html' title='Multiple used in 5 places.'>once_control</a>,
<a id='L163' name='L163' />                                    <strong class='reserved'>void</strong> (*<a href='../Y/2810.html' title='Multiple used in 8 places.'>init_routine</a>)(<strong class='reserved'>void</strong>));
<a id='L164' name='L164' />
<a id='L165' name='L165' /><em class='sharp'>#endif</em>  <em class='comment'>/* __cplusplus */</em>
<a id='L166' name='L166' /><em class='sharp'>#endif</em>  <em class='comment'>/* HAVE_PTHREAD */</em>
<a id='L167' name='L167' />
<a id='L168' name='L168' /><strong class='reserved'>inline</strong> <strong class='reserved'>void</strong> <a href='../R/4631.html' title='Multiple refered from 8 places.'>sched_yield</a>(<strong class='reserved'>void</strong>) <em class='brace'>{</em>
<a id='L169' name='L169' />  <a href='../S/644.html#L84' title='Defined at 84 in third_party/google-perftools-1.8.3/src/tests/malloc_hook_test.cc.'>Sleep</a>(0);
<a id='L170' name='L170' /><em class='brace'>}</em>
<a id='L171' name='L171' />
<a id='L172' name='L172' /><em class='comment'>/*</em>
<a id='L173' name='L173' /><em class='comment'> * __declspec(thread) isn't usable in a dll opened via LoadLibrary().</em>
<a id='L174' name='L174' /><em class='comment'> * But it doesn't work to LoadLibrary() us anyway, because of all the</em>
<a id='L175' name='L175' /><em class='comment'> * things we need to do before main()!  So this kind of TLS is safe for us.</em>
<a id='L176' name='L176' /><em class='comment'> */</em>
<a id='L177' name='L177' /><em class='sharp'>#define</em> <strong class='reserved'>__thread</strong> <a href='../Y/1130.html' title='Multiple used in 17 places.'>__declspec</a>(<a href='../Y/5355.html' title='Multiple used in 11 places.'>thread</a>)
<a id='L178' name='L178' />
<a id='L179' name='L179' /><em class='comment'>/*</em>
<a id='L180' name='L180' /><em class='comment'> * This code is obsolete, but I keep it around in case we are ever in</em>
<a id='L181' name='L181' /><em class='comment'> * an environment where we can't or don't want to use google spinlocks</em>
<a id='L182' name='L182' /><em class='comment'> * (from base/spinlock.{h,cc}).  In that case, uncommenting this out,</em>
<a id='L183' name='L183' /><em class='comment'> * and removing spinlock.cc from the build, should be enough to revert</em>
<a id='L184' name='L184' /><em class='comment'> * back to using native spinlocks.</em>
<a id='L185' name='L185' /><em class='comment'> */</em>
<a id='L186' name='L186' /><em class='sharp'>#if</em> 0
<a id='L187' name='L187' /><em class='comment'>// Windows uses a spinlock internally for its mutexes, making our life easy!</em>
<a id='L188' name='L188' /><em class='comment'>// However, the Windows spinlock must always be initialized, making life hard,</em>
<a id='L189' name='L189' /><em class='comment'>// since we want LINKER_INITIALIZED.  We work around this by having the</em>
<a id='L190' name='L190' /><em class='comment'>// linker initialize a bool to 0, and check that before accessing the mutex.</em>
<a id='L191' name='L191' /><em class='comment'>// This replaces spinlock.{h,cc}, and all the stuff it depends on (atomicops)</em>
<a id='L192' name='L192' /><em class='sharp'>#ifdef</em> <a href='../Y/1125.html' title='Multiple used in 121 places.'>__cplusplus</a>
<a id='L193' name='L193' /><a href='../Y/1792.html' title='Multiple used in 90 places.'>class</a> <a href='../Y/802.html' title='Multiple used in 48 places.'>SpinLock</a> <em class='brace'>{</em>
<a id='L194' name='L194' /> <a href='../Y/4390.html' title='Multiple used in 61 places.'>public</a>:
<a id='L195' name='L195' />  <a href='../Y/802.html' title='Multiple used in 48 places.'>SpinLock</a>() : <a href='../Y/2824.html' title='Multiple used in 5 places.'>initialize_token_</a>(<a href='../S/686.html#L123' title='Defined at 123 in third_party/google-perftools-1.8.3/src/windows/port.h.'>PTHREAD_ONCE_INIT</a>) <em class='brace'>{</em><em class='brace'>}</em>
<a id='L196' name='L196' />  <em class='comment'>// Used for global SpinLock vars (see base/spinlock.h for more details).</em>
<a id='L197' name='L197' />  <strong class='reserved'>enum</strong> <a href='../S/686.html#L198' title='Refered from 198 in third_party/google-perftools-1.8.3/src/windows/port.h.'>StaticInitializer</a> <em class='brace'>{</em> <a href='../R/1212.html' title='Multiple refered from 20 places.'>LINKER_INITIALIZED</a> <em class='brace'>}</em>;
<a id='L198' name='L198' />  <a href='../Y/2272.html' title='Multiple used in 15 places.'>explicit</a> <a href='../Y/802.html' title='Multiple used in 48 places.'>SpinLock</a>(<a href='../S/686.html#L197' title='Defined at 197 in third_party/google-perftools-1.8.3/src/windows/port.h.'>StaticInitializer</a>) : <a href='../Y/2824.html' title='Multiple used in 5 places.'>initialize_token_</a>(<a href='../S/686.html#L123' title='Defined at 123 in third_party/google-perftools-1.8.3/src/windows/port.h.'>PTHREAD_ONCE_INIT</a>) <em class='brace'>{</em>
<a id='L199' name='L199' />    <a href='../D/4792.html' title='Multiple defined in 2 places.'>perftools_pthread_once</a>(&amp;<a href='../Y/2824.html' title='Multiple used in 5 places.'>initialize_token_</a>, <a href='../Y/387.html' title='Multiple used in 3 places.'>InitializeMutex</a>);
<a id='L200' name='L200' />  <em class='brace'>}</em>
<a id='L201' name='L201' />
<a id='L202' name='L202' />  <em class='comment'>// It's important SpinLock not have a destructor: otherwise we run</em>
<a id='L203' name='L203' />  <em class='comment'>// into problems when the main thread has exited, but other threads</em>
<a id='L204' name='L204' />  <em class='comment'>// are still running and try to access a main-thread spinlock.  This</em>
<a id='L205' name='L205' />  <em class='comment'>// means we leak mutex_ (we should call DeleteCriticalSection()</em>
<a id='L206' name='L206' />  <em class='comment'>// here).  However, I've verified that all SpinLocks used in</em>
<a id='L207' name='L207' />  <em class='comment'>// perftools have program-long scope anyway, so the leak is</em>
<a id='L208' name='L208' />  <em class='comment'>// perfectly fine.  But be aware of this for the future!</em>
<a id='L209' name='L209' />
<a id='L210' name='L210' />  <strong class='reserved'>void</strong> <a href='../S/588.html#L256' title='Defined at 256 in third_party/google-perftools-1.8.3/src/memory_region_map.cc.'>Lock</a>() <em class='brace'>{</em>
<a id='L211' name='L211' />    <em class='comment'>// You'd thionk this would be unnecessary, since we call</em>
<a id='L212' name='L212' />    <em class='comment'>// InitializeMutex() in our constructor.  But sometimes Lock() can</em>
<a id='L213' name='L213' />    <em class='comment'>// be called before our constructor is!  This can only happen in</em>
<a id='L214' name='L214' />    <em class='comment'>// global constructors, when this is a global.  If we live in</em>
<a id='L215' name='L215' />    <em class='comment'>// bar.cc, and some global constructor in foo.cc calls a routine</em>
<a id='L216' name='L216' />    <em class='comment'>// in bar.cc that calls this-&gt;Lock(), then Lock() may well run</em>
<a id='L217' name='L217' />    <em class='comment'>// before our global constructor does.  To protect against that,</em>
<a id='L218' name='L218' />    <em class='comment'>// we do this check.  For SpinLock objects created after main()</em>
<a id='L219' name='L219' />    <em class='comment'>// has started, this pthread_once call will always be a noop.</em>
<a id='L220' name='L220' />    <a href='../D/4792.html' title='Multiple defined in 2 places.'>perftools_pthread_once</a>(&amp;<a href='../Y/2824.html' title='Multiple used in 5 places.'>initialize_token_</a>, <a href='../Y/387.html' title='Multiple used in 3 places.'>InitializeMutex</a>);
<a id='L221' name='L221' />    <a href='../Y/173.html' title='Multiple used in 2 places.'>EnterCriticalSection</a>(&amp;<a href='../Y/3630.html' title='Multiple used in 27 places.'>mutex_</a>);
<a id='L222' name='L222' />  <em class='brace'>}</em>
<a id='L223' name='L223' />  <strong class='reserved'>void</strong> <a href='../S/588.html#L278' title='Defined at 278 in third_party/google-perftools-1.8.3/src/memory_region_map.cc.'>Unlock</a>() <em class='brace'>{</em>
<a id='L224' name='L224' />    <a href='../Y/439.html' title='Multiple used in 2 places.'>LeaveCriticalSection</a>(&amp;<a href='../Y/3630.html' title='Multiple used in 27 places.'>mutex_</a>);
<a id='L225' name='L225' />  <em class='brace'>}</em>
<a id='L226' name='L226' />
<a id='L227' name='L227' />  <em class='comment'>// Used in assertion checks: assert(lock.IsHeld()) (see base/spinlock.h).</em>
<a id='L228' name='L228' />  <strong class='reserved'>inline</strong> <a href='../Y/1648.html' title='Multiple used in 174 places.'>bool</a> <a href='../Y/397.html' title='Multiple used in 28 places.'>IsHeld</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em>
<a id='L229' name='L229' />    <em class='comment'>// This works, but probes undocumented internals, so I've commented it out.</em>
<a id='L230' name='L230' />    <em class='comment'>// c.f. http://msdn.microsoft.com/msdnmag/issues/03/12/CriticalSections/</em>
<a id='L231' name='L231' />    <em class='comment'>//return mutex_.LockCount&gt;=0 &amp;&amp; mutex_.OwningThread==GetCurrentThreadId();</em>
<a id='L232' name='L232' />    <strong class='reserved'>return</strong> <a href='../Y/5473.html' title='Multiple used in 20 places.'>true</a>;
<a id='L233' name='L233' />  <em class='brace'>}</em>
<a id='L234' name='L234' /> <a href='../Y/4261.html' title='Multiple used in 50 places.'>private</a>:
<a id='L235' name='L235' />  <strong class='reserved'>void</strong> <a href='../Y/387.html' title='Multiple used in 3 places.'>InitializeMutex</a>() <em class='brace'>{</em> <a href='../Y/386.html' title='Multiple used in 3 places.'>InitializeCriticalSection</a>(&amp;<a href='../Y/3630.html' title='Multiple used in 27 places.'>mutex_</a>); <em class='brace'>}</em>
<a id='L236' name='L236' />
<a id='L237' name='L237' />  <a href='../S/686.html#L122' title='Defined at 122 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pthread_once_t</a> <a href='../Y/2824.html' title='Multiple used in 5 places.'>initialize_token_</a>;
<a id='L238' name='L238' />  <a href='../Y/65.html' title='Multiple used in 2 places.'>CRITICAL_SECTION</a> <a href='../Y/3630.html' title='Multiple used in 27 places.'>mutex_</a>;
<a id='L239' name='L239' /><em class='brace'>}</em>;
<a id='L240' name='L240' />
<a id='L241' name='L241' /><a href='../Y/1792.html' title='Multiple used in 90 places.'>class</a> <a href='../S/534.html#L148' title='Defined at 148 in third_party/google-perftools-1.8.3/src/base/spinlock.h.'>SpinLockHolder</a> <em class='brace'>{</em>  <em class='comment'>// Acquires a spinlock for as long as the scope lasts</em>
<a id='L242' name='L242' /> <a href='../Y/4261.html' title='Multiple used in 50 places.'>private</a>:
<a id='L243' name='L243' />  <a href='../Y/802.html' title='Multiple used in 48 places.'>SpinLock</a>* <a href='../Y/3314.html' title='Multiple used in 57 places.'>lock_</a>;
<a id='L244' name='L244' /> <a href='../Y/4390.html' title='Multiple used in 61 places.'>public</a>:
<a id='L245' name='L245' />  <strong class='reserved'>inline</strong> <a href='../Y/2272.html' title='Multiple used in 15 places.'>explicit</a> <a href='../S/534.html#L148' title='Defined at 148 in third_party/google-perftools-1.8.3/src/base/spinlock.h.'>SpinLockHolder</a>(<a href='../Y/802.html' title='Multiple used in 48 places.'>SpinLock</a>* <a href='../Y/3160.html' title='Multiple used in 392 places.'>l</a>) : <a href='../Y/3314.html' title='Multiple used in 57 places.'>lock_</a>(<a href='../Y/3160.html' title='Multiple used in 392 places.'>l</a>) <em class='brace'>{</em> <a href='../Y/3160.html' title='Multiple used in 392 places.'>l</a>-&gt;<a href='../S/588.html#L256' title='Defined at 256 in third_party/google-perftools-1.8.3/src/memory_region_map.cc.'>Lock</a>(); <em class='brace'>}</em>
<a id='L246' name='L246' />  <strong class='reserved'>inline</strong> ~<a href='../S/534.html#L148' title='Defined at 148 in third_party/google-perftools-1.8.3/src/base/spinlock.h.'>SpinLockHolder</a>() <em class='brace'>{</em> <a href='../Y/3314.html' title='Multiple used in 57 places.'>lock_</a>-&gt;<a href='../S/588.html#L278' title='Defined at 278 in third_party/google-perftools-1.8.3/src/memory_region_map.cc.'>Unlock</a>(); <em class='brace'>}</em>
<a id='L247' name='L247' /><em class='brace'>}</em>;
<a id='L248' name='L248' /><em class='sharp'>#endif</em>  <em class='comment'>// #ifdef __cplusplus</em>
<a id='L249' name='L249' />
<a id='L250' name='L250' /><em class='comment'>// This keeps us from using base/spinlock.h's implementation of SpinLock.</em>
<a id='L251' name='L251' /><em class='sharp'>#define</em> <a href='../S/534.html#L43' title='Refered from 43 in third_party/google-perftools-1.8.3/src/base/spinlock.h.'>BASE_SPINLOCK_H_</a> 1
<a id='L252' name='L252' />
<a id='L253' name='L253' /><em class='sharp'>#endif</em>  <em class='comment'>/* #if 0 */</em>
<a id='L254' name='L254' />
<a id='L255' name='L255' /><em class='comment'>/* ----------------------------------- MMAP and other memory allocation */</em>
<a id='L256' name='L256' />
<a id='L257' name='L257' /><em class='sharp'>#ifndef</em> <a href='../D/923.html' title='Multiple defined in 2 places.'>HAVE_MMAP</a>   <em class='comment'>/* not true for MSVC, but may be true for msys */</em>
<a id='L258' name='L258' /><em class='sharp'>#define</em> <a href='../R/1526.html' title='Multiple refered from 12 places.'>MAP_FAILED</a>  0
<a id='L259' name='L259' /><em class='sharp'>#define</em> <a href='../R/1593.html' title='Multiple refered from 3 places.'>MREMAP_FIXED</a>  2  <em class='comment'>/* the value in linux, though it doesn't really matter */</em>
<a id='L260' name='L260' /><em class='comment'>/* These, when combined with the mmap invariants below, yield the proper action */</em>
<a id='L261' name='L261' /><em class='sharp'>#define</em> <a href='../R/1915.html' title='Multiple refered from 12 places.'>PROT_READ</a>      <a href='../Y/601.html' title='Multiple used in 4 places.'>PAGE_READWRITE</a>
<a id='L262' name='L262' /><em class='sharp'>#define</em> <a href='../R/1916.html' title='Multiple refered from 10 places.'>PROT_WRITE</a>     <a href='../Y/601.html' title='Multiple used in 4 places.'>PAGE_READWRITE</a>
<a id='L263' name='L263' /><em class='sharp'>#define</em> <a href='../R/1524.html' title='Multiple refered from 14 places.'>MAP_ANONYMOUS</a>  <a href='../Y/473.html' title='Multiple used in 4 places.'>MEM_RESERVE</a>
<a id='L264' name='L264' /><em class='sharp'>#define</em> <a href='../R/1527.html' title='Multiple refered from 10 places.'>MAP_PRIVATE</a>    <a href='../Y/471.html' title='Multiple used in 3 places.'>MEM_COMMIT</a>
<a id='L265' name='L265' /><em class='sharp'>#define</em> <a href='../R/1528.html' title='Multiple refered from 3 places.'>MAP_SHARED</a>     <a href='../Y/473.html' title='Multiple used in 4 places.'>MEM_RESERVE</a>   <em class='comment'>/* value of this #define is 100% arbitrary */</em>
<a id='L266' name='L266' />
<a id='L267' name='L267' /><em class='sharp'>#if</em> <a href='../Y/1097.html' title='Multiple used in 62 places.'>__STDC__</a> &amp;&amp; !<strong class='reserved'>defined</strong>(<a href='../Y/1053.html' title='Multiple used in 17 places.'>__MINGW32__</a>)
<a id='L268' name='L268' /><strong class='reserved'>typedef</strong> _off_t <a href='../R/4350.html' title='Multiple refered from 42 places.'>off_t</a>;
<a id='L269' name='L269' /><em class='sharp'>#endif</em>
<a id='L270' name='L270' />
<a id='L271' name='L271' /><em class='comment'>/* VirtualAlloc only replaces for mmap when certain invariants are kept. */</em>
<a id='L272' name='L272' /><strong class='reserved'>inline</strong> <strong class='reserved'>void</strong> *<a href='../R/4269.html' title='Multiple refered from 18 places.'>mmap</a>(<strong class='reserved'>void</strong> *<a href='../Y/1406.html' title='Multiple used in 83 places.'>addr</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../Y/3209.html' title='Multiple used in 184 places.'>length</a>, <strong class='reserved'>int</strong> <a href='../Y/4326.html' title='Multiple used in 43 places.'>prot</a>, <strong class='reserved'>int</strong> <a href='../Y/2400.html' title='Multiple used in 235 places.'>flags</a>,
<a id='L273' name='L273' />                  <strong class='reserved'>int</strong> <a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <a href='../S/686.html#L268' title='Defined at 268 in third_party/google-perftools-1.8.3/src/windows/port.h.'>off_t</a> <a href='../Y/3919.html' title='Multiple used in 128 places.'>offset</a>) <em class='brace'>{</em>
<a id='L274' name='L274' />  <strong class='reserved'>if</strong> (<a href='../Y/1406.html' title='Multiple used in 83 places.'>addr</a> == <a href='../Y/551.html' title='Multiple used in 1022 places.'>NULL</a> &amp;&amp; <a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a> == -1 &amp;&amp; <a href='../Y/3919.html' title='Multiple used in 128 places.'>offset</a> == 0 &amp;&amp;
<a id='L275' name='L275' />      <a href='../Y/4326.html' title='Multiple used in 43 places.'>prot</a> == (<a href='../S/686.html#L261' title='Defined at 261 in third_party/google-perftools-1.8.3/src/windows/port.h.'>PROT_READ</a>|<a href='../S/686.html#L262' title='Defined at 262 in third_party/google-perftools-1.8.3/src/windows/port.h.'>PROT_WRITE</a>) &amp;&amp; <a href='../Y/2400.html' title='Multiple used in 235 places.'>flags</a> == (<a href='../S/686.html#L264' title='Defined at 264 in third_party/google-perftools-1.8.3/src/windows/port.h.'>MAP_PRIVATE</a>|<a href='../D/1718.html' title='Multiple defined in 7 places.'>MAP_ANONYMOUS</a>)) <em class='brace'>{</em>
<a id='L276' name='L276' />    <strong class='reserved'>return</strong> <a href='../Y/916.html' title='Multiple used in 2 places.'>VirtualAlloc</a>(0, <a href='../Y/3209.html' title='Multiple used in 184 places.'>length</a>, <a href='../Y/473.html' title='Multiple used in 4 places.'>MEM_RESERVE</a> | <a href='../Y/471.html' title='Multiple used in 3 places.'>MEM_COMMIT</a>, <a href='../Y/601.html' title='Multiple used in 4 places.'>PAGE_READWRITE</a>);
<a id='L277' name='L277' />  <em class='brace'>}</em> <strong class='reserved'>else</strong> <em class='brace'>{</em>
<a id='L278' name='L278' />    <strong class='reserved'>return</strong> <a href='../Y/551.html' title='Multiple used in 1022 places.'>NULL</a>;
<a id='L279' name='L279' />  <em class='brace'>}</em>
<a id='L280' name='L280' /><em class='brace'>}</em>
<a id='L281' name='L281' />
<a id='L282' name='L282' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4287.html' title='Multiple refered from 15 places.'>munmap</a>(<strong class='reserved'>void</strong> *<a href='../Y/1406.html' title='Multiple used in 83 places.'>addr</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../Y/3209.html' title='Multiple used in 184 places.'>length</a>) <em class='brace'>{</em>
<a id='L283' name='L283' />  <strong class='reserved'>return</strong> VirtualFree(<a href='../Y/1406.html' title='Multiple used in 83 places.'>addr</a>, 0, MEM_RELEASE) ? 0 : -1;
<a id='L284' name='L284' /><em class='brace'>}</em>
<a id='L285' name='L285' /><em class='sharp'>#endif</em>  <em class='comment'>/* HAVE_MMAP */</em>
<a id='L286' name='L286' />
<a id='L287' name='L287' /><em class='comment'>/* We could maybe use VirtualAlloc for sbrk as well, but no need */</em>
<a id='L288' name='L288' /><strong class='reserved'>inline</strong> <strong class='reserved'>void</strong> *<a href='../R/4629.html' title='Multiple refered from 14 places.'>sbrk</a>(<a href='../Y/2873.html' title='Multiple used in 42 places.'>intptr_t</a> <a href='../Y/2795.html' title='Multiple used in 142 places.'>increment</a>) <em class='brace'>{</em>
<a id='L289' name='L289' />  <em class='comment'>// sbrk returns -1 on failure</em>
<a id='L290' name='L290' />  <strong class='reserved'>return</strong> (<strong class='reserved'>void</strong>*)-1;
<a id='L291' name='L291' /><em class='brace'>}</em>
<a id='L292' name='L292' />
<a id='L293' name='L293' />
<a id='L294' name='L294' /><em class='comment'>/* ----------------------------------- STRING ROUTINES */</em>
<a id='L295' name='L295' />
<a id='L296' name='L296' /><em class='comment'>/*</em>
<a id='L297' name='L297' /><em class='comment'> * We can't just use _vsnprintf and _snprintf as drop-in-replacements,</em>
<a id='L298' name='L298' /><em class='comment'> * because they don't always NUL-terminate. :-(  We also can't use the</em>
<a id='L299' name='L299' /><em class='comment'> * name vsnprintf, since windows defines that (but not snprintf (!)).</em>
<a id='L300' name='L300' /><em class='comment'> */</em>
<a id='L301' name='L301' /><em class='sharp'>#if</em> <strong class='reserved'>defined</strong>(<a href='../Y/982.html' title='Multiple used in 81 places.'>_MSC_VER</a>) &amp;&amp; <a href='../Y/982.html' title='Multiple used in 81 places.'>_MSC_VER</a> &gt;= 1400
<a id='L302' name='L302' /><em class='comment'>/* We can use safe CRT functions, which the required functionality */</em>
<a id='L303' name='L303' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4375.html' title='Multiple refered from 5 places.'>perftools_vsnprintf</a>(<strong class='reserved'>char</strong> *<a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>,
<a id='L304' name='L304' />                               <a href='../Y/5593.html' title='Multiple used in 27 places.'>va_list</a> <a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>) <em class='brace'>{</em>
<a id='L305' name='L305' />  <strong class='reserved'>return</strong> vsnprintf_s(<a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>, <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>, _TRUNCATE, <a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>, <a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>);
<a id='L306' name='L306' /><em class='brace'>}</em>
<a id='L307' name='L307' /><em class='sharp'>#else</em>
<a id='L308' name='L308' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4375.html' title='Multiple refered from 5 places.'>perftools_vsnprintf</a>(<strong class='reserved'>char</strong> *<a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>,
<a id='L309' name='L309' />                               <a href='../Y/5593.html' title='Multiple used in 27 places.'>va_list</a> <a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>) <em class='brace'>{</em>
<a id='L310' name='L310' />  <strong class='reserved'>if</strong> (<a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a> == 0)        <em class='comment'>/* not even room for a \0? */</em>
<a id='L311' name='L311' />    <strong class='reserved'>return</strong> -1;        <em class='comment'>/* not what C99 says to do, but what windows does */</em>
<a id='L312' name='L312' />  <a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>[<a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>-1] = '\0';
<a id='L313' name='L313' />  <strong class='reserved'>return</strong> _vsnprintf(<a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>, <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>-1, <a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>, <a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>);
<a id='L314' name='L314' /><em class='brace'>}</em>
<a id='L315' name='L315' /><em class='sharp'>#endif</em>
<a id='L316' name='L316' />
<a id='L317' name='L317' /><em class='sharp'>#ifndef</em> <a href='../D/934.html' title='Multiple defined in 2 places.'>HAVE_SNPRINTF</a>
<a id='L318' name='L318' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4691.html' title='Multiple refered from 34 places.'>snprintf</a>(<strong class='reserved'>char</strong> *<a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>, ...) <em class='brace'>{</em>
<a id='L319' name='L319' />  <a href='../Y/5593.html' title='Multiple used in 27 places.'>va_list</a> <a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>;
<a id='L320' name='L320' />  <strong class='reserved'>int</strong> <a href='../Y/4406.html' title='Multiple used in 354 places.'>r</a>;
<a id='L321' name='L321' />  <a href='../Y/5594.html' title='Multiple used in 17 places.'>va_start</a>(<a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>, <a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>);
<a id='L322' name='L322' />  <a href='../Y/4406.html' title='Multiple used in 354 places.'>r</a> = <a href='../D/4794.html' title='Multiple defined in 3 places.'>perftools_vsnprintf</a>(<a href='../Y/5114.html' title='Multiple used in 121 places.'>str</a>, <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>, <a href='../Y/2426.html' title='Multiple used in 34 places.'>format</a>, <a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>);
<a id='L323' name='L323' />  <a href='../Y/5592.html' title='Multiple used in 16 places.'>va_end</a>(<a href='../Y/1470.html' title='Multiple used in 194 places.'>ap</a>);
<a id='L324' name='L324' />  <strong class='reserved'>return</strong> <a href='../Y/4406.html' title='Multiple used in 354 places.'>r</a>;
<a id='L325' name='L325' /><em class='brace'>}</em>
<a id='L326' name='L326' /><em class='sharp'>#endif</em>
<a id='L327' name='L327' />
<a id='L328' name='L328' /><em class='sharp'>#define</em> <a href='../R/1877.html' title='Multiple refered from 2 places.'>PRIx64</a>  "I64x"
<a id='L329' name='L329' /><em class='sharp'>#define</em> <a href='../R/2204.html' title='Multiple refered from 4 places.'>SCNx64</a>  "I64x"
<a id='L330' name='L330' /><em class='sharp'>#define</em> <a href='../R/1872.html' title='Multiple refered from 12 places.'>PRId64</a>  "I64d"
<a id='L331' name='L331' /><em class='sharp'>#define</em> <a href='../R/2203.html' title='Multiple refered from 3 places.'>SCNd64</a>  "I64d"
<a id='L332' name='L332' /><em class='sharp'>#define</em> <a href='../R/1874.html' title='Multiple refered from 17 places.'>PRIu64</a>  "I64u"
<a id='L333' name='L333' /><em class='sharp'>#ifdef</em> <a href='../Y/998.html' title='Multiple used in 3 places.'>_WIN64</a>
<a id='L334' name='L334' /><em class='sharp'># define</em> <a href='../R/1875.html' title='Multiple refered from 6 places.'>PRIuPTR</a> "llu"
<a id='L335' name='L335' /><em class='sharp'># define</em> <a href='../R/1878.html' title='Multiple refered from 18 places.'>PRIxPTR</a> "llx"
<a id='L336' name='L336' /><em class='sharp'>#else</em>
<a id='L337' name='L337' /><em class='sharp'># define</em> <a href='../R/1875.html' title='Multiple refered from 6 places.'>PRIuPTR</a> "lu"
<a id='L338' name='L338' /><em class='sharp'># define</em> <a href='../R/1878.html' title='Multiple refered from 18 places.'>PRIxPTR</a> "lx"
<a id='L339' name='L339' /><em class='sharp'>#endif</em>
<a id='L340' name='L340' />
<a id='L341' name='L341' /><em class='comment'>/* ----------------------------------- FILE IO */</em>
<a id='L342' name='L342' />
<a id='L343' name='L343' /><em class='sharp'>#ifndef</em> <a href='../D/2066.html' title='Multiple defined in 3 places.'>PATH_MAX</a>
<a id='L344' name='L344' /><em class='sharp'>#define</em> <a href='../R/1845.html' title='Multiple refered from 12 places.'>PATH_MAX</a> 1024
<a id='L345' name='L345' /><em class='sharp'>#endif</em>
<a id='L346' name='L346' /><em class='sharp'>#ifndef</em> <a href='../Y/1053.html' title='Multiple used in 17 places.'>__MINGW32__</a>
<a id='L347' name='L347' /><strong class='reserved'>enum</strong> <em class='brace'>{</em> STDIN_FILENO = 0, STDOUT_FILENO = 1, <a href='../R/2258.html' title='Multiple refered from 11 places.'>STDERR_FILENO</a> = 2 <em class='brace'>}</em>;
<a id='L348' name='L348' /><em class='sharp'>#endif</em>
<a id='L349' name='L349' /><em class='sharp'>#ifndef</em> <a href='../S/686.html#L350' title='Defined at 350 in third_party/google-perftools-1.8.3/src/windows/port.h.'>O_RDONLY</a>
<a id='L350' name='L350' /><em class='sharp'>#define</em> <a href='../R/1822.html' title='Multiple refered from 13 places.'>O_RDONLY</a>  _O_RDONLY
<a id='L351' name='L351' /><em class='sharp'>#endif</em>
<a id='L352' name='L352' />
<a id='L353' name='L353' /><em class='sharp'>#if</em> <a href='../Y/1097.html' title='Multiple used in 62 places.'>__STDC__</a> &amp;&amp; !<strong class='reserved'>defined</strong>(<a href='../Y/1053.html' title='Multiple used in 17 places.'>__MINGW32__</a>)
<a id='L354' name='L354' /><em class='comment'>/* These functions are considered non-standard */</em>
<a id='L355' name='L355' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../S/622.html#L132' title='Refered from 132 in third_party/google-perftools-1.8.3/src/symbolize.cc.'>access</a>(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/4132.html' title='Multiple used in 6 places.'>pathname</a>, <strong class='reserved'>int</strong> <a href='../Y/3574.html' title='Multiple used in 97 places.'>mode</a>) <em class='brace'>{</em>
<a id='L356' name='L356' />  <strong class='reserved'>return</strong> _access(<a href='../Y/4132.html' title='Multiple used in 6 places.'>pathname</a>, <a href='../Y/3574.html' title='Multiple used in 97 places.'>mode</a>);
<a id='L357' name='L357' /><em class='brace'>}</em>
<a id='L358' name='L358' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4353.html' title='Multiple refered from 21 places.'>open</a>(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/4132.html' title='Multiple used in 6 places.'>pathname</a>, <strong class='reserved'>int</strong> <a href='../Y/2400.html' title='Multiple used in 235 places.'>flags</a>, <strong class='reserved'>int</strong> <a href='../Y/3574.html' title='Multiple used in 97 places.'>mode</a> = 0) <em class='brace'>{</em>
<a id='L359' name='L359' />  <strong class='reserved'>return</strong> _open(<a href='../Y/4132.html' title='Multiple used in 6 places.'>pathname</a>, <a href='../Y/2400.html' title='Multiple used in 235 places.'>flags</a>, <a href='../Y/3574.html' title='Multiple used in 97 places.'>mode</a>);
<a id='L360' name='L360' /><em class='brace'>}</em>
<a id='L361' name='L361' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/3131.html' title='Multiple refered from 32 places.'>close</a>(<strong class='reserved'>int</strong> <a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>) <em class='brace'>{</em>
<a id='L362' name='L362' />  <strong class='reserved'>return</strong> _close(<a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>);
<a id='L363' name='L363' /><em class='brace'>}</em>
<a id='L364' name='L364' /><strong class='reserved'>inline</strong> <a href='../S/686.html#L114' title='Defined at 114 in third_party/google-perftools-1.8.3/src/windows/port.h.'>ssize_t</a> <a href='../R/4568.html' title='Multiple refered from 18 places.'>read</a>(<strong class='reserved'>int</strong> <a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <strong class='reserved'>void</strong> *<a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../Y/1870.html' title='Multiple used in 157 places.'>count</a>) <em class='brace'>{</em>
<a id='L365' name='L365' />  <strong class='reserved'>return</strong> _read(<a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <a href='../Y/1870.html' title='Multiple used in 157 places.'>count</a>);
<a id='L366' name='L366' /><em class='brace'>}</em>
<a id='L367' name='L367' /><strong class='reserved'>inline</strong> <a href='../S/686.html#L114' title='Defined at 114 in third_party/google-perftools-1.8.3/src/windows/port.h.'>ssize_t</a> <a href='../R/5213.html' title='Multiple refered from 25 places.'>write</a>(<strong class='reserved'>int</strong> <a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <strong class='reserved'>const</strong> <strong class='reserved'>void</strong> *<a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../Y/1870.html' title='Multiple used in 157 places.'>count</a>) <em class='brace'>{</em>
<a id='L368' name='L368' />  <strong class='reserved'>return</strong> _write(<a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <a href='../Y/1870.html' title='Multiple used in 157 places.'>count</a>);
<a id='L369' name='L369' /><em class='brace'>}</em>
<a id='L370' name='L370' /><strong class='reserved'>inline</strong> <a href='../S/686.html#L268' title='Defined at 268 in third_party/google-perftools-1.8.3/src/windows/port.h.'>off_t</a> <a href='../S/525.html#L2325' title='Refered from 2325 in third_party/google-perftools-1.8.3/src/base/linux_syscall_support.h.'>lseek</a>(<strong class='reserved'>int</strong> <a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <a href='../S/686.html#L268' title='Defined at 268 in third_party/google-perftools-1.8.3/src/windows/port.h.'>off_t</a> <a href='../Y/3919.html' title='Multiple used in 128 places.'>offset</a>, <strong class='reserved'>int</strong> <a href='../Y/5679.html' title='Multiple used in 2 places.'>whence</a>) <em class='brace'>{</em>
<a id='L371' name='L371' />  <strong class='reserved'>return</strong> _lseek(<a href='../Y/2340.html' title='Multiple used in 181 places.'>fd</a>, <a href='../Y/3919.html' title='Multiple used in 128 places.'>offset</a>, <a href='../Y/5679.html' title='Multiple used in 2 places.'>whence</a>);
<a id='L372' name='L372' /><em class='brace'>}</em>
<a id='L373' name='L373' /><strong class='reserved'>inline</strong> <strong class='reserved'>char</strong> *getcwd(<strong class='reserved'>char</strong> *<a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <a href='../D/5108.html' title='Multiple defined in 2 places.'>size_t</a> <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>) <em class='brace'>{</em>
<a id='L374' name='L374' />  <strong class='reserved'>return</strong> _getcwd(<a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <a href='../S/555.html#L187' title='Defined at 187 in third_party/google-perftools-1.8.3/src/debugallocation.cc.'>size</a>);
<a id='L375' name='L375' /><em class='brace'>}</em>
<a id='L376' name='L376' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4268.html' title='Multiple refered from 3 places.'>mkdir</a>(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/4132.html' title='Multiple used in 6 places.'>pathname</a>, <strong class='reserved'>int</strong>) <em class='brace'>{</em>
<a id='L377' name='L377' />  <strong class='reserved'>return</strong> _mkdir(<a href='../Y/4132.html' title='Multiple used in 6 places.'>pathname</a>);
<a id='L378' name='L378' /><em class='brace'>}</em>
<a id='L379' name='L379' />
<a id='L380' name='L380' /><strong class='reserved'>inline</strong> <a href='../Y/186.html' title='Multiple used in 169 places.'>FILE</a> *<a href='../R/4382.html' title='Multiple refered from 2 places.'>popen</a>(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/1836.html' title='Multiple used in 2 places.'>command</a>, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/5486.html' title='Multiple used in 318 places.'>type</a>) <em class='brace'>{</em>
<a id='L381' name='L381' />  <strong class='reserved'>return</strong> _popen(<a href='../Y/1836.html' title='Multiple used in 2 places.'>command</a>, <a href='../Y/5486.html' title='Multiple used in 318 places.'>type</a>);
<a id='L382' name='L382' /><em class='brace'>}</em>
<a id='L383' name='L383' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> pclose(<a href='../Y/186.html' title='Multiple used in 169 places.'>FILE</a> *<a href='../Y/5128.html' title='Multiple used in 2 places.'>stream</a>) <em class='brace'>{</em>
<a id='L384' name='L384' />  <strong class='reserved'>return</strong> _pclose(<a href='../Y/5128.html' title='Multiple used in 2 places.'>stream</a>);
<a id='L385' name='L385' /><em class='brace'>}</em>
<a id='L386' name='L386' /><em class='sharp'>#endif</em>
<a id='L387' name='L387' />
<a id='L388' name='L388' /><a href='../D/706.html' title='Multiple defined in 3 places.'>EXTERN_C</a> <a href='../D/2076.html' title='Multiple defined in 25 places.'>PERFTOOLS_DLL_DECL</a> <strong class='reserved'>void</strong> <a href='../S/685.html#L73' title='Defined at 73 in third_party/google-perftools-1.8.3/src/windows/port.cc.'>WriteToStderr</a>(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong>* <a href='../Y/1671.html' title='Multiple used in 330 places.'>buf</a>, <strong class='reserved'>int</strong> <a href='../Y/3205.html' title='Multiple used in 280 places.'>len</a>);
<a id='L389' name='L389' />
<a id='L390' name='L390' /><em class='comment'>/* ----------------------------------- SYSTEM/PROCESS */</em>
<a id='L391' name='L391' />
<a id='L392' name='L392' /><strong class='reserved'>typedef</strong> <strong class='reserved'>int</strong> <a href='../R/4376.html' title='Multiple refered from 54 places.'>pid_t</a>;
<a id='L393' name='L393' /><em class='sharp'>#if</em> <a href='../Y/1097.html' title='Multiple used in 62 places.'>__STDC__</a> &amp;&amp; !<strong class='reserved'>defined</strong>(<a href='../Y/1053.html' title='Multiple used in 17 places.'>__MINGW32__</a>)
<a id='L394' name='L394' /><strong class='reserved'>inline</strong> <a href='../S/686.html#L392' title='Defined at 392 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pid_t</a> <a href='../R/3484.html' title='Multiple refered from 20 places.'>getpid</a>(<strong class='reserved'>void</strong>) <em class='brace'>{</em> <strong class='reserved'>return</strong> _getpid(); <em class='brace'>}</em>
<a id='L395' name='L395' /><em class='sharp'>#endif</em>
<a id='L396' name='L396' /><strong class='reserved'>inline</strong> <a href='../S/686.html#L392' title='Defined at 392 in third_party/google-perftools-1.8.3/src/windows/port.h.'>pid_t</a> <a href='../S/525.html#L2298' title='Refered from 2298 in third_party/google-perftools-1.8.3/src/base/linux_syscall_support.h.'>getppid</a>(<strong class='reserved'>void</strong>) <em class='brace'>{</em> <strong class='reserved'>return</strong> 0; <em class='brace'>}</em>
<a id='L397' name='L397' />
<a id='L398' name='L398' /><em class='comment'>/* Handle case when poll is used to simulate sleep. */</em>
<a id='L399' name='L399' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4379.html' title='Multiple refered from 5 places.'>poll</a>(<strong class='reserved'>struct</strong> <a href='../Y/4186.html' title='Multiple used in 2 places.'>pollfd</a>* <a href='../Y/2342.html' title='Multiple used in 2 places.'>fds</a>, <strong class='reserved'>int</strong> <a href='../Y/3817.html' title='Multiple used in 2 places.'>nfds</a>, <strong class='reserved'>int</strong> <a href='../Y/5384.html' title='Multiple used in 2 places.'>timeout</a>) <em class='brace'>{</em>
<a id='L400' name='L400' />  <a href='../Y/1520.html' title='Multiple used in 35 places.'>assert</a>(<a href='../Y/2342.html' title='Multiple used in 2 places.'>fds</a> == <a href='../Y/551.html' title='Multiple used in 1022 places.'>NULL</a>);
<a id='L401' name='L401' />  <a href='../Y/1520.html' title='Multiple used in 35 places.'>assert</a>(<a href='../Y/3817.html' title='Multiple used in 2 places.'>nfds</a> == 0);
<a id='L402' name='L402' />  <a href='../S/644.html#L84' title='Defined at 84 in third_party/google-perftools-1.8.3/src/tests/malloc_hook_test.cc.'>Sleep</a>(<a href='../Y/5384.html' title='Multiple used in 2 places.'>timeout</a>);
<a id='L403' name='L403' />  <strong class='reserved'>return</strong> 0;
<a id='L404' name='L404' /><em class='brace'>}</em>
<a id='L405' name='L405' />
<a id='L406' name='L406' /><a href='../D/706.html' title='Multiple defined in 3 places.'>EXTERN_C</a> <strong class='reserved'>int</strong> <a href='../S/685.html#L53' title='Defined at 53 in third_party/google-perftools-1.8.3/src/windows/port.cc.'>getpagesize</a>();   <em class='comment'>/* in port.cc */</em>
<a id='L407' name='L407' />
<a id='L408' name='L408' /><em class='comment'>/* ----------------------------------- OTHER */</em>
<a id='L409' name='L409' />
<a id='L410' name='L410' /><strong class='reserved'>inline</strong> <strong class='reserved'>void</strong> <a href='../S/664.html#L211' title='Refered from 211 in third_party/google-perftools-1.8.3/src/tests/tcmalloc_unittest.cc.'>srandom</a>(<strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../Y/4762.html' title='Multiple used in 51 places.'>seed</a>) <em class='brace'>{</em> <a href='../Y/4953.html' title='Multiple used in 5 places.'>srand</a>(<a href='../Y/4762.html' title='Multiple used in 51 places.'>seed</a>); <em class='brace'>}</em>
<a id='L411' name='L411' /><strong class='reserved'>inline</strong> <strong class='reserved'>long</strong> <a href='../R/4550.html' title='Multiple refered from 12 places.'>random</a>(<strong class='reserved'>void</strong>) <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/4427.html' title='Multiple used in 11 places.'>rand</a>(); <em class='brace'>}</em>
<a id='L412' name='L412' /><strong class='reserved'>inline</strong> <strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../R/4678.html' title='Multiple refered from 7 places.'>sleep</a>(<strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../Y/4760.html' title='Multiple used in 5 places.'>seconds</a>) <em class='brace'>{</em>
<a id='L413' name='L413' />  <a href='../S/644.html#L84' title='Defined at 84 in third_party/google-perftools-1.8.3/src/tests/malloc_hook_test.cc.'>Sleep</a>(<a href='../Y/4760.html' title='Multiple used in 5 places.'>seconds</a> * 1000);
<a id='L414' name='L414' />  <strong class='reserved'>return</strong> 0;
<a id='L415' name='L415' /><em class='brace'>}</em>
<a id='L416' name='L416' />
<a id='L417' name='L417' /><strong class='reserved'>struct</strong> <a href='../R/4979.html' title='Multiple refered from 8 places.'>timespec</a> <em class='brace'>{</em>
<a id='L418' name='L418' />  <strong class='reserved'>int</strong> <a href='../Y/5482.html' title='Multiple used in 20 places.'>tv_sec</a>;
<a id='L419' name='L419' />  <strong class='reserved'>int</strong> <a href='../Y/5481.html' title='Multiple used in 10 places.'>tv_nsec</a>;
<a id='L420' name='L420' /><em class='brace'>}</em>;
<a id='L421' name='L421' />
<a id='L422' name='L422' /><strong class='reserved'>inline</strong> <strong class='reserved'>int</strong> <a href='../R/4288.html' title='Multiple refered from 5 places.'>nanosleep</a>(<strong class='reserved'>const</strong> <strong class='reserved'>struct</strong> <a href='../S/686.html#L417' title='Defined at 417 in third_party/google-perftools-1.8.3/src/windows/port.h.'>timespec</a> *<a href='../Y/4516.html' title='Multiple used in 2 places.'>req</a>, <strong class='reserved'>struct</strong> <a href='../S/686.html#L417' title='Defined at 417 in third_party/google-perftools-1.8.3/src/windows/port.h.'>timespec</a> *rem) <em class='brace'>{</em>
<a id='L423' name='L423' />  <a href='../S/644.html#L84' title='Defined at 84 in third_party/google-perftools-1.8.3/src/tests/malloc_hook_test.cc.'>Sleep</a>(<a href='../Y/4516.html' title='Multiple used in 2 places.'>req</a>-&gt;<a href='../Y/5482.html' title='Multiple used in 20 places.'>tv_sec</a> * 1000 + <a href='../Y/4516.html' title='Multiple used in 2 places.'>req</a>-&gt;<a href='../Y/5481.html' title='Multiple used in 10 places.'>tv_nsec</a> / 1000000);
<a id='L424' name='L424' />  <strong class='reserved'>return</strong> 0;
<a id='L425' name='L425' /><em class='brace'>}</em>
<a id='L426' name='L426' />
<a id='L427' name='L427' /><em class='sharp'>#ifndef</em> <a href='../Y/1053.html' title='Multiple used in 17 places.'>__MINGW32__</a>
<a id='L428' name='L428' /><strong class='reserved'>inline</strong> <strong class='reserved'>long</strong> <strong class='reserved'>long</strong> <strong class='reserved'>int</strong> <a href='../S/517.html#L126' title='Refered from 126 in third_party/google-perftools-1.8.3/src/base/commandlineflags.h.'>strtoll</a>(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <strong class='reserved'>char</strong> **<a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>, <strong class='reserved'>int</strong> <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>) <em class='brace'>{</em>
<a id='L429' name='L429' />    <strong class='reserved'>return</strong> <a href='../Y/1340.html' title='Multiple used in 2 places.'>_strtoi64</a>(<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>, <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>);
<a id='L430' name='L430' /><em class='brace'>}</em>
<a id='L431' name='L431' /><strong class='reserved'>inline</strong> <strong class='reserved'>unsigned</strong> <strong class='reserved'>long</strong> <strong class='reserved'>long</strong> <strong class='reserved'>int</strong> strtoull(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <strong class='reserved'>char</strong> **<a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>,
<a id='L432' name='L432' />                                       <strong class='reserved'>int</strong> <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>) <em class='brace'>{</em>
<a id='L433' name='L433' />    <strong class='reserved'>return</strong> <a href='../Y/1341.html' title='Multiple used in 3 places.'>_strtoui64</a>(<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>, <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>);
<a id='L434' name='L434' /><em class='brace'>}</em>
<a id='L435' name='L435' /><strong class='reserved'>inline</strong> <strong class='reserved'>long</strong> <strong class='reserved'>long</strong> <strong class='reserved'>int</strong> strtoq(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <strong class='reserved'>char</strong> **<a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>, <strong class='reserved'>int</strong> <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>) <em class='brace'>{</em>
<a id='L436' name='L436' />    <strong class='reserved'>return</strong> <a href='../Y/1340.html' title='Multiple used in 2 places.'>_strtoi64</a>(<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>, <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>);
<a id='L437' name='L437' /><em class='brace'>}</em>
<a id='L438' name='L438' /><strong class='reserved'>inline</strong> <strong class='reserved'>unsigned</strong> <strong class='reserved'>long</strong> <strong class='reserved'>long</strong> <strong class='reserved'>int</strong> strtouq(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <strong class='reserved'>char</strong> **<a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>,
<a id='L439' name='L439' />                                      <strong class='reserved'>int</strong> <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>) <em class='brace'>{</em>
<a id='L440' name='L440' />    <strong class='reserved'>return</strong> <a href='../Y/1341.html' title='Multiple used in 3 places.'>_strtoui64</a>(<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>, <a href='../Y/2203.html' title='Multiple used in 8 places.'>endptr</a>, <a href='../D/3379.html' title='Multiple defined in 6 places.'>base</a>);
<a id='L441' name='L441' /><em class='brace'>}</em>
<a id='L442' name='L442' /><strong class='reserved'>inline</strong> <strong class='reserved'>long</strong> <strong class='reserved'>long</strong> atoll(<strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>) <em class='brace'>{</em>
<a id='L443' name='L443' />  <strong class='reserved'>return</strong> _atoi64(<a href='../Y/3848.html' title='Multiple used in 10 places.'>nptr</a>);
<a id='L444' name='L444' /><em class='brace'>}</em>
<a id='L445' name='L445' /><em class='sharp'>#endif</em>
<a id='L446' name='L446' />
<a id='L447' name='L447' /><em class='sharp'>#define</em> <a href='../R/2912.html' title='Multiple refered from 197 places.'>__THROW</a> <a href='../Y/5374.html' title='Multiple used in 3 places.'>throw</a>()
<a id='L448' name='L448' />
<a id='L449' name='L449' /><em class='comment'>/* ----------------------------------- TCMALLOC-SPECIFIC */</em>
<a id='L450' name='L450' />
<a id='L451' name='L451' /><em class='comment'>/* tcmalloc.cc calls this so we can patch VirtualAlloc() et al. */</em>
<a id='L452' name='L452' /><strong class='reserved'>extern</strong> <strong class='reserved'>void</strong> <a href='../S/684.html#L1035' title='Defined at 1035 in third_party/google-perftools-1.8.3/src/windows/patch_functions.cc.'>PatchWindowsFunctions</a>();
<a id='L453' name='L453' />
<a id='L454' name='L454' /><em class='comment'>// ----------------------------------- BUILD-SPECIFIC</em>
<a id='L455' name='L455' />
<a id='L456' name='L456' /><em class='comment'>/*</em>
<a id='L457' name='L457' /><em class='comment'> * windows/port.h defines compatibility APIs for several .h files, which</em>
<a id='L458' name='L458' /><em class='comment'> * we therefore shouldn't be #including directly.  This hack keeps us from</em>
<a id='L459' name='L459' /><em class='comment'> * doing so.  TODO(csilvers): do something more principled.</em>
<a id='L460' name='L460' /><em class='comment'> */</em>
<a id='L461' name='L461' /><em class='sharp'>#define</em> <a href='../S/586.html#L38' title='Refered from 38 in third_party/google-perftools-1.8.3/src/maybe_threads.h.'>GOOGLE_MAYBE_THREADS_H_</a> 1
<a id='L462' name='L462' />
<a id='L463' name='L463' />
<a id='L464' name='L464' /><em class='sharp'>#endif</em>  <em class='comment'>/* _WIN32 */</em>
<a id='L465' name='L465' />
<a id='L466' name='L466' /><em class='sharp'>#undef</em> <strong class='reserved'>inline</strong>
<a id='L467' name='L467' /><em class='sharp'>#undef</em> <a href='../R/609.html' title='Multiple refered from 4 places.'>EXTERN_C</a>
<a id='L468' name='L468' />
<a id='L469' name='L469' /><em class='sharp'>#endif</em>  <em class='comment'>/* GOOGLE_BASE_WINDOWS_H_ */</em>
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM' />
<em class='comment'>/* [&lt;][&gt;]<a href='#L125'>[^]</a><a href='#L442'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
