<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>arena</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.1' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/530.html#L71'>arena</a>              71 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       LowLevelAlloc::Arena *arena; // pointer to parent arena</span>
<span class='curline'><a href='../S/530.html#L217'>arena</a>             217 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     explicit ArenaLock(LowLevelAlloc::Arena *arena)</span>
<span class='curline'><a href='../S/530.html#L218'>arena</a>             218 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc         EXCLUSIVE_LOCK_FUNCTION(arena-&gt;mu)</span>
<span class='curline'><a href='../S/530.html#L219'>arena</a>             219 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc         : left_(false), mask_valid_(false), arena_(arena) {</span>
<span class='curline'><a href='../S/530.html#L220'>arena</a>             220 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       if ((arena-&gt;flags &amp; LowLevelAlloc::kAsyncSignalSafe) != 0) {</span>
<span class='curline'><a href='../S/530.html#L263'>arena</a>             263 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc static void ArenaInit(LowLevelAlloc::Arena *arena) {</span>
<span class='curline'><a href='../S/530.html#L264'>arena</a>             264 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   if (arena-&gt;pagesize == 0) {</span>
<span class='curline'><a href='../S/530.html#L265'>arena</a>             265 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;pagesize = getpagesize();</span>
<span class='curline'><a href='../S/530.html#L267'>arena</a>             267 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;roundup = 16;</span>
<span class='curline'><a href='../S/530.html#L268'>arena</a>             268 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     while (arena-&gt;roundup &lt; sizeof (arena-&gt;freelist.header)) {</span>
<span class='curline'><a href='../S/530.html#L269'>arena</a>             269 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;roundup += arena-&gt;roundup;</span>
<span class='curline'><a href='../S/530.html#L273'>arena</a>             273 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;min_size = 2 * arena-&gt;roundup;</span>
<span class='curline'><a href='../S/530.html#L274'>arena</a>             274 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;freelist.header.size = 0;</span>
<span class='curline'><a href='../S/530.html#L275'>arena</a>             275 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;freelist.header.magic =</span>
<span class='curline'><a href='../S/530.html#L276'>arena</a>             276 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc         Magic(kMagicUnallocated, &amp;arena-&gt;freelist.header);</span>
<span class='curline'><a href='../S/530.html#L277'>arena</a>             277 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;freelist.header.arena = arena;</span>
<span class='curline'><a href='../S/530.html#L278'>arena</a>             278 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;freelist.levels = 0;</span>
<span class='curline'><a href='../S/530.html#L279'>arena</a>             279 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     memset(arena-&gt;freelist.next, 0, sizeof (arena-&gt;freelist.next));</span>
<span class='curline'><a href='../S/530.html#L280'>arena</a>             280 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;allocation_count = 0;</span>
<span class='curline'><a href='../S/530.html#L281'>arena</a>             281 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     if (arena == &amp;default_arena) {</span>
<span class='curline'><a href='../S/530.html#L284'>arena</a>             284 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;flags = LowLevelAlloc::kCallMallocHook;</span>
<span class='curline'><a href='../S/530.html#L285'>arena</a>             285 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     } else if (arena == &amp;unhooked_async_sig_safe_arena) {</span>
<span class='curline'><a href='../S/530.html#L286'>arena</a>             286 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;flags = LowLevelAlloc::kAsyncSignalSafe;</span>
<span class='curline'><a href='../S/530.html#L288'>arena</a>             288 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;flags = 0;   // other arenas' flags may be overridden by client,</span>
<span class='curline'><a href='../S/530.html#L314'>arena</a>             314 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc bool LowLevelAlloc::DeleteArena(Arena *arena) {</span>
<span class='curline'><a href='../S/530.html#L315'>arena</a>             315 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   RAW_CHECK(arena != 0 &amp;&amp; arena != &amp;default_arena &amp;&amp; arena != &amp;unhooked_arena,</span>
<span class='curline'><a href='../S/530.html#L317'>arena</a>             317 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   ArenaLock section(arena);</span>
<span class='curline'><a href='../S/530.html#L318'>arena</a>             318 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   bool empty = (arena-&gt;allocation_count == 0);</span>
<span class='curline'><a href='../S/530.html#L321'>arena</a>             321 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     while (arena-&gt;freelist.next[0] != 0) {</span>
<span class='curline'><a href='../S/530.html#L322'>arena</a>             322 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       AllocList *region = arena-&gt;freelist.next[0];</span>
<span class='curline'><a href='../S/530.html#L324'>arena</a>             324 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;freelist.next[0] = region-&gt;next[0];</span>
<span class='curline'><a href='../S/530.html#L328'>arena</a>             328 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       RAW_CHECK(region-&gt;header.arena == arena,</span>
<span class='curline'><a href='../S/530.html#L330'>arena</a>             330 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       RAW_CHECK(size % arena-&gt;pagesize == 0,</span>
<span class='curline'><a href='../S/530.html#L332'>arena</a>             332 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       RAW_CHECK(reinterpret_cast&lt;intptr_t&gt;(region) % arena-&gt;pagesize == 0,</span>
<span class='curline'><a href='../S/530.html#L335'>arena</a>             335 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       if ((arena-&gt;flags &amp; LowLevelAlloc::kAsyncSignalSafe) == 0) {</span>
<span class='curline'><a href='../S/530.html#L343'>arena</a>             343 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     Free(arena);</span>
<span class='curline'><a href='../S/530.html#L361'>arena</a>             361 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc static AllocList *Next(int i, AllocList *prev, LowLevelAlloc::Arena *arena) {</span>
<span class='curline'><a href='../S/530.html#L367'>arena</a>             367 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     RAW_CHECK(next-&gt;header.arena == arena,</span>
<span class='curline'><a href='../S/530.html#L369'>arena</a>             369 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     if (prev != &amp;arena-&gt;freelist) {</span>
<span class='curline'><a href='../S/530.html#L383'>arena</a>             383 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     LowLevelAlloc::Arena *arena = a-&gt;header.arena;</span>
<span class='curline'><a href='../S/530.html#L386'>arena</a>             386 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     n-&gt;header.arena = 0;</span>
<span class='curline'><a href='../S/530.html#L388'>arena</a>             388 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     LLA_SkiplistDelete(&amp;arena-&gt;freelist, n, prev);</span>
<span class='curline'><a href='../S/530.html#L389'>arena</a>             389 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     LLA_SkiplistDelete(&amp;arena-&gt;freelist, a, prev);</span>
<span class='curline'><a href='../S/530.html#L390'>arena</a>             390 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     a-&gt;levels = LLA_SkiplistLevels(a-&gt;header.size, arena-&gt;min_size, true);</span>
<span class='curline'><a href='../S/530.html#L391'>arena</a>             391 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     LLA_SkiplistInsert(&amp;arena-&gt;freelist, a, prev);</span>
<span class='curline'><a href='../S/530.html#L397'>arena</a>             397 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc static void AddToFreelist(void *v, LowLevelAlloc::Arena *arena) {</span>
<span class='curline'><a href='../S/530.html#L402'>arena</a>             402 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   RAW_CHECK(f-&gt;header.arena == arena,</span>
<span class='curline'><a href='../S/530.html#L404'>arena</a>             404 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   f-&gt;levels = LLA_SkiplistLevels(f-&gt;header.size, arena-&gt;min_size, true);</span>
<span class='curline'><a href='../S/530.html#L406'>arena</a>             406 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   LLA_SkiplistInsert(&amp;arena-&gt;freelist, f, prev);</span>
<span class='curline'><a href='../S/530.html#L420'>arena</a>             420 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     LowLevelAlloc::Arena *arena = f-&gt;header.arena;</span>
<span class='curline'><a href='../S/530.html#L421'>arena</a>             421 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     if ((arena-&gt;flags &amp; kCallMallocHook) != 0) {</span>
<span class='curline'><a href='../S/530.html#L424'>arena</a>             424 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     ArenaLock section(arena);</span>
<span class='curline'><a href='../S/530.html#L425'>arena</a>             425 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     AddToFreelist(v, arena);</span>
<span class='curline'><a href='../S/530.html#L426'>arena</a>             426 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     RAW_CHECK(arena-&gt;allocation_count &gt; 0, "nothing in arena to free");</span>
<span class='curline'><a href='../S/530.html#L427'>arena</a>             427 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;allocation_count--;</span>
<span class='curline'><a href='../S/530.html#L434'>arena</a>             434 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc static void *DoAllocWithArena(size_t request, LowLevelAlloc::Arena *arena) {</span>
<span class='curline'><a href='../S/530.html#L438'>arena</a>             438 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     ArenaLock section(arena);</span>
<span class='curline'><a href='../S/530.html#L439'>arena</a>             439 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     ArenaInit(arena);</span>
<span class='curline'><a href='../S/530.html#L441'>arena</a>             441 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     size_t req_rnd = RoundUp(request + sizeof (s-&gt;header), arena-&gt;roundup);</span>
<span class='curline'><a href='../S/530.html#L444'>arena</a>             444 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       int i = LLA_SkiplistLevels(req_rnd, arena-&gt;min_size, false) - 1;</span>
<span class='curline'><a href='../S/530.html#L445'>arena</a>             445 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       if (i &lt; arena-&gt;freelist.levels) {   // potential blocks exist</span>
<span class='curline'><a href='../S/530.html#L446'>arena</a>             446 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc         AllocList *before = &amp;arena-&gt;freelist;  // predecessor of s</span>
<span class='curline'><a href='../S/530.html#L447'>arena</a>             447 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc         while ((s = Next(i, before, arena)) != 0 &amp;&amp; s-&gt;header.size &lt; req_rnd) {</span>
<span class='curline'><a href='../S/530.html#L456'>arena</a>             456 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;mu.Unlock();</span>
<span class='curline'><a href='../S/530.html#L459'>arena</a>             459 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       size_t new_pages_size = RoundUp(req_rnd, arena-&gt;pagesize * 16);</span>
<span class='curline'><a href='../S/530.html#L461'>arena</a>             461 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       if ((arena-&gt;flags &amp; LowLevelAlloc::kAsyncSignalSafe) != 0) {</span>
<span class='curline'><a href='../S/530.html#L469'>arena</a>             469 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       arena-&gt;mu.Lock();</span>
<span class='curline'><a href='../S/530.html#L474'>arena</a>             474 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       s-&gt;header.arena = arena;</span>
<span class='curline'><a href='../S/530.html#L475'>arena</a>             475 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       AddToFreelist(&amp;s-&gt;levels, arena);  // insert new region into free list</span>
<span class='curline'><a href='../S/530.html#L478'>arena</a>             478 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     LLA_SkiplistDelete(&amp;arena-&gt;freelist, s, prev);    // remove from free list</span>
<span class='curline'><a href='../S/530.html#L480'>arena</a>             480 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     if (req_rnd + arena-&gt;min_size &lt;= s-&gt;header.size) {  // big enough to split</span>
<span class='curline'><a href='../S/530.html#L485'>arena</a>             485 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       n-&gt;header.arena = arena;</span>
<span class='curline'><a href='../S/530.html#L487'>arena</a>             487 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc       AddToFreelist(&amp;n-&gt;levels, arena);</span>
<span class='curline'><a href='../S/530.html#L490'>arena</a>             490 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     RAW_CHECK(s-&gt;header.arena == arena, "");</span>
<span class='curline'><a href='../S/530.html#L491'>arena</a>             491 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc     arena-&gt;allocation_count++;</span>
<span class='curline'><a href='../S/530.html#L509'>arena</a>             509 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc void *LowLevelAlloc::AllocWithArena(size_t request, Arena *arena) {</span>
<span class='curline'><a href='../S/530.html#L510'>arena</a>             510 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   RAW_CHECK(arena != 0, "must pass a valid arena");</span>
<span class='curline'><a href='../S/530.html#L511'>arena</a>             511 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   void *result = DoAllocWithArena(request, arena);</span>
<span class='curline'><a href='../S/530.html#L512'>arena</a>             512 third_party/google-perftools-1.8.3/src/base/low_level_alloc.cc   if ((arena-&gt;flags &amp; kCallMallocHook) != 0) {</span>
<span class='curline'><a href='../S/531.html#L55'>arena</a>              55 third_party/google-perftools-1.8.3/src/base/low_level_alloc.h   static void *AllocWithArena(size_t request, Arena *arena)</span>
<span class='curline'><a href='../S/531.html#L97'>arena</a>              97 third_party/google-perftools-1.8.3/src/base/low_level_alloc.h   static bool DeleteArena(Arena *arena);</span>
<span class='curline'><a href='../S/626.html#L1322'>arena</a>            1322 third_party/google-perftools-1.8.3/src/tcmalloc.cc   info.arena     = static_cast&lt;int&gt;(stats.pageheap.system_bytes);</span>
<span class='curline'><a href='../S/641.html#L87'>arena</a>              87 third_party/google-perftools-1.8.3/src/tests/low_level_alloc_unittest.cc   LowLevelAlloc::Arena *arena = 0;</span>
<span class='curline'><a href='../S/641.html#L90'>arena</a>              90 third_party/google-perftools-1.8.3/src/tests/low_level_alloc_unittest.cc     arena = LowLevelAlloc::NewArena(flags, LowLevelAlloc::DefaultArena());</span>
<span class='curline'><a href='../S/641.html#L104'>arena</a>             104 third_party/google-perftools-1.8.3/src/tests/low_level_alloc_unittest.cc                         arena == 0</span>
<span class='curline'><a href='../S/641.html#L106'>arena</a>             106 third_party/google-perftools-1.8.3/src/tests/low_level_alloc_unittest.cc                         : LowLevelAlloc::AllocWithArena(block_desc.len, arena));</span>
<span class='curline'><a href='../S/641.html#L142'>arena</a>             142 third_party/google-perftools-1.8.3/src/tests/low_level_alloc_unittest.cc     CHECK(LowLevelAlloc::DeleteArena(arena));</span>
</pre>
</body>
</html>
